<div class="donut-title">{{this.title}}</div>

<div class="donut">
  <svg width="100%" height="100%" viewBox="0 0 40 40">
    <circle
      class="donut-ring"
      cx="20"
      cy="20"
      r={{this.radius}}
      fill="transparent"
      stroke-width="2"
    ></circle>

    <circle
      class="donut-segment"
      cx="20"
      cy="20"
      r={{this.radius}}
      fill="transparent"
      stroke-width="2"
      stroke-dasharray="{{mult (min this.value 1) 100}} {{mult (sub 1 (min this.value 1)) 100}}"
      stroke-dashoffset="25"
    ></circle>
  </svg>

  <div class="donut-content">
    {{#if this.balance.usedDuration}}
      {{format-duration this.balance.usedDuration false}}
    {{else}}
      {{#if this.balance.credit}}
        <div>{{this.balance.usedDays}} of {{this.balance.credit}}</div>
        {{#if (gte this.balance.credit 1)}}
          <div>{{round (mult this.value 100)}}%</div>
        {{/if}}
      {{else}}
        {{this.balance.usedDays}}
      {{/if}}
    {{/if}}
  </div>
</div>